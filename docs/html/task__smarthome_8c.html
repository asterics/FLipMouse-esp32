<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLipMouse/FABI ESP32 firmware: /home/beni/sync/Projects/FH/FLipMouse-esp32/main/function_tasks/task_smarthome.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLipMouse/FABI ESP32 firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li><li class="navelem"><a class="el" href="dir_dd44d79ba9a472f66a6851d54403189f.html">function_tasks</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">task_smarthome.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>MQTT, WiFi and REST handling.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="task__smarthome_8h_source.html">task_smarthome.h</a>&quot;</code><br />
</div>
<p><a href="task__smarthome_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aef9f4d6cd2916af712de9c506d9194eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#aef9f4d6cd2916af712de9c506d9194eb">LOG_TAG_MQTT</a>&#160;&#160;&#160;&quot;MQTT&quot;</td></tr>
<tr class="memdesc:aef9f4d6cd2916af712de9c506d9194eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logging tag for MQTT.  <a href="#aef9f4d6cd2916af712de9c506d9194eb">More...</a><br /></td></tr>
<tr class="separator:aef9f4d6cd2916af712de9c506d9194eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7333cc098fc4f4095e294bfd65e9ade"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#ac7333cc098fc4f4095e294bfd65e9ade">LOG_TAG_REST</a>&#160;&#160;&#160;&quot;REST&quot;</td></tr>
<tr class="memdesc:ac7333cc098fc4f4095e294bfd65e9ade"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logging tag for REST.  <a href="#ac7333cc098fc4f4095e294bfd65e9ade">More...</a><br /></td></tr>
<tr class="separator:ac7333cc098fc4f4095e294bfd65e9ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc8a9b60e4e92dffc2caf8d1eab0be7a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#abc8a9b60e4e92dffc2caf8d1eab0be7a">LOG_TAG_WIFI</a>&#160;&#160;&#160;&quot;WIFI&quot;</td></tr>
<tr class="memdesc:abc8a9b60e4e92dffc2caf8d1eab0be7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logging tag for WiFi.  <a href="#abc8a9b60e4e92dffc2caf8d1eab0be7a">More...</a><br /></td></tr>
<tr class="separator:abc8a9b60e4e92dffc2caf8d1eab0be7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4369f1b310836fbcdf409b57f1be9b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#ab4369f1b310836fbcdf409b57f1be9b8">LOG_LEVEL_MQTT</a>&#160;&#160;&#160;ESP_LOG_DEBUG</td></tr>
<tr class="memdesc:ab4369f1b310836fbcdf409b57f1be9b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log level for the MQTT client.  <a href="#ab4369f1b310836fbcdf409b57f1be9b8">More...</a><br /></td></tr>
<tr class="separator:ab4369f1b310836fbcdf409b57f1be9b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a9f0a23c033d3974af824da40a6722"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#a47a9f0a23c033d3974af824da40a6722">LOG_LEVEL_WIFI</a>&#160;&#160;&#160;ESP_LOG_DEBUG</td></tr>
<tr class="memdesc:a47a9f0a23c033d3974af824da40a6722"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log level for WiFi.  <a href="#a47a9f0a23c033d3974af824da40a6722">More...</a><br /></td></tr>
<tr class="separator:a47a9f0a23c033d3974af824da40a6722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18ce7cf8de2c83420d09675f8fdefbf1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#a18ce7cf8de2c83420d09675f8fdefbf1">LOG_LEVEL_REST</a>&#160;&#160;&#160;ESP_LOG_DEBUG</td></tr>
<tr class="memdesc:a18ce7cf8de2c83420d09675f8fdefbf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log level for REST calls.  <a href="#a18ce7cf8de2c83420d09675f8fdefbf1">More...</a><br /></td></tr>
<tr class="separator:a18ce7cf8de2c83420d09675f8fdefbf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ca10298e1918e68446e51ed34e4221b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#a3ca10298e1918e68446e51ed34e4221b">SH_MQTT_ACTIVE</a>&#160;&#160;&#160;(1&lt;&lt;0)</td></tr>
<tr class="separator:a3ca10298e1918e68446e51ed34e4221b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f6c32b5419f9e5dea8c7eae95d64de"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#a92f6c32b5419f9e5dea8c7eae95d64de">SH_MQTT_INITIALIZED</a>&#160;&#160;&#160;(1&lt;&lt;1)</td></tr>
<tr class="separator:a92f6c32b5419f9e5dea8c7eae95d64de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad858ba29f3bea06d0cbe52ff5a77ab98"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#ad858ba29f3bea06d0cbe52ff5a77ab98">SH_WIFI_ACTIVE</a>&#160;&#160;&#160;(1&lt;&lt;2)</td></tr>
<tr class="separator:ad858ba29f3bea06d0cbe52ff5a77ab98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76afc5dc7807cffe6691233a7033fcc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#ae76afc5dc7807cffe6691233a7033fcc">SH_WIFI_INITIALIZED</a>&#160;&#160;&#160;(1&lt;&lt;3)</td></tr>
<tr class="separator:ae76afc5dc7807cffe6691233a7033fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5a85685932ce7bf4b7239ab1b133cbdd"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#a5a85685932ce7bf4b7239ab1b133cbdd">wifi_get_reason</a> (int err)</td></tr>
<tr class="memdesc:a5a85685932ce7bf4b7239ab1b133cbdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Import from internal wifi code for decoding error messages.  <a href="#a5a85685932ce7bf4b7239ab1b133cbdd">More...</a><br /></td></tr>
<tr class="separator:a5a85685932ce7bf4b7239ab1b133cbdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da1bd05d2cb75035c66535221908a63"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#a8da1bd05d2cb75035c66535221908a63">checkeventgroup</a> (void)</td></tr>
<tr class="memdesc:a8da1bd05d2cb75035c66535221908a63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for eventgroup before accessing it. Will be initialized if not available.  <a href="#a8da1bd05d2cb75035c66535221908a63">More...</a><br /></td></tr>
<tr class="separator:a8da1bd05d2cb75035c66535221908a63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070dec70b0e96f3a031a3fa803b517cd"><td class="memItemLeft" align="right" valign="top">static esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#a070dec70b0e96f3a031a3fa803b517cd">wifi_sh_event_handler</a> (void *ctx, system_event_t *event)</td></tr>
<tr class="memdesc:a070dec70b0e96f3a031a3fa803b517cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default event handler for Wifi.  <a href="#a070dec70b0e96f3a031a3fa803b517cd">More...</a><br /></td></tr>
<tr class="separator:a070dec70b0e96f3a031a3fa803b517cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af8e8260f5604ece0ee37eb577e0e26"><td class="memItemLeft" align="right" valign="top">static esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#a5af8e8260f5604ece0ee37eb577e0e26">mqtt_event_handler</a> (esp_mqtt_event_handle_t event)</td></tr>
<tr class="memdesc:a5af8e8260f5604ece0ee37eb577e0e26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default event_handler for mqtt.  <a href="#a5af8e8260f5604ece0ee37eb577e0e26">More...</a><br /></td></tr>
<tr class="separator:a5af8e8260f5604ece0ee37eb577e0e26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7ad6f5bfc7cbfc9f6a223fcf697c8f6"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#ae7ad6f5bfc7cbfc9f6a223fcf697c8f6">taskMQTTInit</a> (void)</td></tr>
<tr class="memdesc:ae7ad6f5bfc7cbfc9f6a223fcf697c8f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init the MQTT client and wifi (if necessary)  <a href="#ae7ad6f5bfc7cbfc9f6a223fcf697c8f6">More...</a><br /></td></tr>
<tr class="separator:ae7ad6f5bfc7cbfc9f6a223fcf697c8f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5684a2bbe23145855d2a166fa8379ece"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#a5684a2bbe23145855d2a166fa8379ece">taskWifiInit</a> (void)</td></tr>
<tr class="memdesc:a5684a2bbe23145855d2a166fa8379ece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init Wifi.  <a href="#a5684a2bbe23145855d2a166fa8379ece">More...</a><br /></td></tr>
<tr class="separator:a5684a2bbe23145855d2a166fa8379ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae09eb75c3fed43ee85fd92c1f710b600"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#ae09eb75c3fed43ee85fd92c1f710b600">taskMQTTDeInit</a> (void)</td></tr>
<tr class="memdesc:ae09eb75c3fed43ee85fd92c1f710b600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinit MQTT.  <a href="#ae09eb75c3fed43ee85fd92c1f710b600">More...</a><br /></td></tr>
<tr class="separator:ae09eb75c3fed43ee85fd92c1f710b600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f500c758e55aef71ea45019352a280f"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#a7f500c758e55aef71ea45019352a280f">taskWifiDeInit</a> (void)</td></tr>
<tr class="memdesc:a7f500c758e55aef71ea45019352a280f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinit wifi.  <a href="#a7f500c758e55aef71ea45019352a280f">More...</a><br /></td></tr>
<tr class="separator:a7f500c758e55aef71ea45019352a280f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6afc039be68c1a831778fe33bd2412a9"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#a6afc039be68c1a831778fe33bd2412a9">taskMQTTPublish</a> (char *topic_payload)</td></tr>
<tr class="memdesc:a6afc039be68c1a831778fe33bd2412a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish data via MQTT.  <a href="#a6afc039be68c1a831778fe33bd2412a9">More...</a><br /></td></tr>
<tr class="separator:a6afc039be68c1a831778fe33bd2412a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd03f69dfd15d91c58fce02e1c476626"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#abd03f69dfd15d91c58fce02e1c476626">taskREST</a> (char *uri)</td></tr>
<tr class="memdesc:abd03f69dfd15d91c58fce02e1c476626"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger a REST call via http/s GET.  <a href="#abd03f69dfd15d91c58fce02e1c476626">More...</a><br /></td></tr>
<tr class="separator:abd03f69dfd15d91c58fce02e1c476626"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad9332f302ae79b5195a71d791a9ccecd"><td class="memItemLeft" align="right" valign="top">esp_mqtt_client_handle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#ad9332f302ae79b5195a71d791a9ccecd">mqtt_client</a></td></tr>
<tr class="memdesc:ad9332f302ae79b5195a71d791a9ccecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT client handle, used for publishing.  <a href="#ad9332f302ae79b5195a71d791a9ccecd">More...</a><br /></td></tr>
<tr class="separator:ad9332f302ae79b5195a71d791a9ccecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11201774aaac749961f9bb6dabeac94f"><td class="memItemLeft" align="right" valign="top">wifi_config_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#a11201774aaac749961f9bb6dabeac94f">wifi_config</a></td></tr>
<tr class="memdesc:a11201774aaac749961f9bb6dabeac94f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wifi config.  <a href="#a11201774aaac749961f9bb6dabeac94f">More...</a><br /></td></tr>
<tr class="separator:a11201774aaac749961f9bb6dabeac94f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae574ef13e6c84129431de8584f0d9a8c"><td class="memItemLeft" align="right" valign="top">EventGroupHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task__smarthome_8c.html#ae574ef13e6c84129431de8584f0d9a8c">smarthomestatus</a></td></tr>
<tr class="memdesc:ae574ef13e6c84129431de8584f0d9a8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags for signalling wifi/mqtt/... status.  <a href="#ae574ef13e6c84129431de8584f0d9a8c">More...</a><br /></td></tr>
<tr class="separator:ae574ef13e6c84129431de8584f0d9a8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>MQTT, WiFi and REST handling. </p>
<p>This module is used for connecting the FLipMouse/FABI to a MQTT broker, activate WiFi or trigger a HTTP GET REST call.</p>
<dl class="section warning"><dt>Warning</dt><dd>Please note, only one WiFi mode is possible: either this device operates in AP mode and serves the webGUI (see <a class="el" href="task__webgui_8h.html" title="CONTINOUS TASK - Web server &amp; WebGUI handling. ">task_webgui.h</a>) OR it operates in station mode, connects to a given Wifi and transmits data via MQTT/REST (if enabled) </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Initialise this module only if a MQTT command is used in the configuration. </dd>
<dd>
Due to limitations in esp_http_client, it is not possible to use https without a server certificate -&gt; please use HTTP only! </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="task__webgui_8h.html" title="CONTINOUS TASK - Web server &amp; WebGUI handling. ">task_webgui.h</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab4369f1b310836fbcdf409b57f1be9b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4369f1b310836fbcdf409b57f1be9b8">&#9670;&nbsp;</a></span>LOG_LEVEL_MQTT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_LEVEL_MQTT&#160;&#160;&#160;ESP_LOG_DEBUG</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log level for the MQTT client. </p>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00050">50</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00178">taskMQTTInit()</a>.</p>

</div>
</div>
<a id="a18ce7cf8de2c83420d09675f8fdefbf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18ce7cf8de2c83420d09675f8fdefbf1">&#9670;&nbsp;</a></span>LOG_LEVEL_REST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_LEVEL_REST&#160;&#160;&#160;ESP_LOG_DEBUG</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log level for REST calls. </p>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00056">56</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00424">taskREST()</a>.</p>

</div>
</div>
<a id="a47a9f0a23c033d3974af824da40a6722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47a9f0a23c033d3974af824da40a6722">&#9670;&nbsp;</a></span>LOG_LEVEL_WIFI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_LEVEL_WIFI&#160;&#160;&#160;ESP_LOG_DEBUG</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log level for WiFi. </p>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00053">53</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00227">taskWifiInit()</a>.</p>

</div>
</div>
<a id="aef9f4d6cd2916af712de9c506d9194eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef9f4d6cd2916af712de9c506d9194eb">&#9670;&nbsp;</a></span>LOG_TAG_MQTT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_TAG_MQTT&#160;&#160;&#160;&quot;MQTT&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logging tag for MQTT. </p>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00043">43</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00128">mqtt_event_handler()</a>, <a class="el" href="task__smarthome_8c_source.html#l00178">taskMQTTInit()</a>, and <a class="el" href="task__smarthome_8c_source.html#l00366">taskMQTTPublish()</a>.</p>

</div>
</div>
<a id="ac7333cc098fc4f4095e294bfd65e9ade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7333cc098fc4f4095e294bfd65e9ade">&#9670;&nbsp;</a></span>LOG_TAG_REST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_TAG_REST&#160;&#160;&#160;&quot;REST&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logging tag for REST. </p>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00045">45</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00424">taskREST()</a>.</p>

</div>
</div>
<a id="abc8a9b60e4e92dffc2caf8d1eab0be7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc8a9b60e4e92dffc2caf8d1eab0be7a">&#9670;&nbsp;</a></span>LOG_TAG_WIFI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_TAG_WIFI&#160;&#160;&#160;&quot;WIFI&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logging tag for WiFi. </p>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00047">47</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00227">taskWifiInit()</a>, and <a class="el" href="task__smarthome_8c_source.html#l00095">wifi_sh_event_handler()</a>.</p>

</div>
</div>
<a id="a3ca10298e1918e68446e51ed34e4221b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ca10298e1918e68446e51ed34e4221b">&#9670;&nbsp;</a></span>SH_MQTT_ACTIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SH_MQTT_ACTIVE&#160;&#160;&#160;(1&lt;&lt;0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00073">73</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00128">mqtt_event_handler()</a>, <a class="el" href="task__smarthome_8c_source.html#l00313">taskMQTTDeInit()</a>, and <a class="el" href="task__smarthome_8c_source.html#l00334">taskWifiDeInit()</a>.</p>

</div>
</div>
<a id="a92f6c32b5419f9e5dea8c7eae95d64de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f6c32b5419f9e5dea8c7eae95d64de">&#9670;&nbsp;</a></span>SH_MQTT_INITIALIZED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SH_MQTT_INITIALIZED&#160;&#160;&#160;(1&lt;&lt;1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00074">74</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00313">taskMQTTDeInit()</a>, <a class="el" href="task__smarthome_8c_source.html#l00178">taskMQTTInit()</a>, and <a class="el" href="task__smarthome_8c_source.html#l00334">taskWifiDeInit()</a>.</p>

</div>
</div>
<a id="ad858ba29f3bea06d0cbe52ff5a77ab98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad858ba29f3bea06d0cbe52ff5a77ab98">&#9670;&nbsp;</a></span>SH_WIFI_ACTIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SH_WIFI_ACTIVE&#160;&#160;&#160;(1&lt;&lt;2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00075">75</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00424">taskREST()</a>, and <a class="el" href="task__smarthome_8c_source.html#l00095">wifi_sh_event_handler()</a>.</p>

</div>
</div>
<a id="ae76afc5dc7807cffe6691233a7033fcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae76afc5dc7807cffe6691233a7033fcc">&#9670;&nbsp;</a></span>SH_WIFI_INITIALIZED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SH_WIFI_INITIALIZED&#160;&#160;&#160;(1&lt;&lt;3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00076">76</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00178">taskMQTTInit()</a>, <a class="el" href="task__smarthome_8c_source.html#l00334">taskWifiDeInit()</a>, and <a class="el" href="task__smarthome_8c_source.html#l00227">taskWifiInit()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8da1bd05d2cb75035c66535221908a63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8da1bd05d2cb75035c66535221908a63">&#9670;&nbsp;</a></span>checkeventgroup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t checkeventgroup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check for eventgroup before accessing it. Will be initialized if not available. </p>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK if create was sucessful or event group was already initialized. ESP_FAIL of creating failed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00084">84</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00313">taskMQTTDeInit()</a>, <a class="el" href="task__smarthome_8c_source.html#l00178">taskMQTTInit()</a>, <a class="el" href="task__smarthome_8c_source.html#l00334">taskWifiDeInit()</a>, and <a class="el" href="task__smarthome_8c_source.html#l00227">taskWifiInit()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_a8da1bd05d2cb75035c66535221908a63_icgraph.png" border="0" usemap="#task__smarthome_8c_a8da1bd05d2cb75035c66535221908a63_icgraph" alt=""/></div>
<map name="task__smarthome_8c_a8da1bd05d2cb75035c66535221908a63_icgraph" id="task__smarthome_8c_a8da1bd05d2cb75035c66535221908a63_icgraph">
<area shape="rect" id="node2" href="task__smarthome_8h.html#ae09eb75c3fed43ee85fd92c1f710b600" title="Deinit the MQTT task and the wifi. " alt="" coords="175,5,293,32"/>
<area shape="rect" id="node3" href="task__smarthome_8c.html#a7f500c758e55aef71ea45019352a280f" title="Deinit wifi. " alt="" coords="341,31,447,57"/>
<area shape="rect" id="node4" href="task__smarthome_8c.html#ae7ad6f5bfc7cbfc9f6a223fcf697c8f6" title="Init the MQTT client and wifi (if necessary) " alt="" coords="343,107,445,133"/>
<area shape="rect" id="node10" href="task__smarthome_8h.html#a5684a2bbe23145855d2a166fa8379ece" title="Init Wifi. " alt="" coords="190,157,278,184"/>
<area shape="rect" id="node5" href="task__smarthome_8h.html#a6afc039be68c1a831778fe33bd2412a9" title="Publish data via MQTT. " alt="" coords="495,107,621,133"/>
<area shape="rect" id="node6" href="handler__vb_8c.html#a60c71b4a6cc8a9a3e9e8a3c8e36cffa0" title="VB event handler, triggering VB general actions. " alt="" coords="669,157,755,184"/>
<area shape="rect" id="node9" href="task__commands_8c.html#a6687f2598d6dc738c90d3be28cf90184" title="cmdMq" alt="" coords="679,107,745,133"/>
<area shape="rect" id="node7" href="handler__vb_8h.html#ac54a8826a70d3aaf5c284bab02b93444" title="Init for the VB handler. " alt="" coords="803,157,912,184"/>
<area shape="rect" id="node8" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="960,157,1039,184"/>
<area shape="rect" id="node11" href="task__smarthome_8h.html#ada3e20e5219fc786b19060f089dd8b24" title="Publish data via MQTT. " alt="" coords="353,157,435,184"/>
<area shape="rect" id="node12" href="task__commands_8c.html#a29b76b745eba87f47ca191b0bf47282e" title="cmdRe" alt="" coords="526,208,590,235"/>
</map>
</div>

</div>
</div>
<a id="a5af8e8260f5604ece0ee37eb577e0e26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5af8e8260f5604ece0ee37eb577e0e26">&#9670;&nbsp;</a></span>mqtt_event_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static esp_err_t mqtt_event_handler </td>
          <td>(</td>
          <td class="paramtype">esp_mqtt_event_handle_t&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default event_handler for mqtt. </p>
<p>This is basically the protocols/mqtt/tcp example's handler code. Used to signal changing MQTT status/information. </p>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00128">128</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00178">taskMQTTInit()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_a5af8e8260f5604ece0ee37eb577e0e26_icgraph.png" border="0" usemap="#task__smarthome_8c_a5af8e8260f5604ece0ee37eb577e0e26_icgraph" alt=""/></div>
<map name="task__smarthome_8c_a5af8e8260f5604ece0ee37eb577e0e26_icgraph" id="task__smarthome_8c_a5af8e8260f5604ece0ee37eb577e0e26_icgraph">
<area shape="rect" id="node2" href="task__smarthome_8c.html#ae7ad6f5bfc7cbfc9f6a223fcf697c8f6" title="Init the MQTT client and wifi (if necessary) " alt="" coords="189,31,292,57"/>
<area shape="rect" id="node3" href="task__smarthome_8h.html#a6afc039be68c1a831778fe33bd2412a9" title="Publish data via MQTT. " alt="" coords="340,31,467,57"/>
<area shape="rect" id="node4" href="handler__vb_8c.html#a60c71b4a6cc8a9a3e9e8a3c8e36cffa0" title="VB event handler, triggering VB general actions. " alt="" coords="515,5,600,32"/>
<area shape="rect" id="node7" href="task__commands_8c.html#a6687f2598d6dc738c90d3be28cf90184" title="cmdMq" alt="" coords="525,56,590,83"/>
<area shape="rect" id="node5" href="handler__vb_8h.html#ac54a8826a70d3aaf5c284bab02b93444" title="Init for the VB handler. " alt="" coords="648,5,757,32"/>
<area shape="rect" id="node6" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="805,5,884,32"/>
</map>
</div>

</div>
</div>
<a id="ae09eb75c3fed43ee85fd92c1f710b600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae09eb75c3fed43ee85fd92c1f710b600">&#9670;&nbsp;</a></span>taskMQTTDeInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t taskMQTTDeInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinit MQTT. </p>
<p>Deinit the MQTT task and the wifi.</p>
<p>This function deactives MQTT</p>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK on success, ESP_FAIL otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00313">313</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00334">taskWifiDeInit()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_ae09eb75c3fed43ee85fd92c1f710b600_cgraph.png" border="0" usemap="#task__smarthome_8c_ae09eb75c3fed43ee85fd92c1f710b600_cgraph" alt=""/></div>
<map name="task__smarthome_8c_ae09eb75c3fed43ee85fd92c1f710b600_cgraph" id="task__smarthome_8c_ae09eb75c3fed43ee85fd92c1f710b600_cgraph">
<area shape="rect" id="node2" href="task__smarthome_8c.html#a8da1bd05d2cb75035c66535221908a63" title="Check for eventgroup before accessing it. Will be initialized if not available. " alt="" coords="172,5,293,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_ae09eb75c3fed43ee85fd92c1f710b600_icgraph.png" border="0" usemap="#task__smarthome_8c_ae09eb75c3fed43ee85fd92c1f710b600_icgraph" alt=""/></div>
<map name="task__smarthome_8c_ae09eb75c3fed43ee85fd92c1f710b600_icgraph" id="task__smarthome_8c_ae09eb75c3fed43ee85fd92c1f710b600_icgraph">
<area shape="rect" id="node2" href="task__smarthome_8c.html#a7f500c758e55aef71ea45019352a280f" title="Deinit wifi. " alt="" coords="172,5,277,32"/>
</map>
</div>

</div>
</div>
<a id="ae7ad6f5bfc7cbfc9f6a223fcf697c8f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7ad6f5bfc7cbfc9f6a223fcf697c8f6">&#9670;&nbsp;</a></span>taskMQTTInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t taskMQTTInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init the MQTT client and wifi (if necessary) </p>
<p>This init function initializes the MQTT client. In addition, if wifi is not active, initialize it here.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="common_8h.html#a90072969f5970a88eb341d777d1f9e7c" title="NVS key for the MQTT broker. ">NVS_MQTT_BROKER</a> </dd>
<dd>
<a class="el" href="task__smarthome_8c.html#a92f6c32b5419f9e5dea8c7eae95d64de">SH_MQTT_INITIALIZED</a> </dd>
<dd>
<a class="el" href="task__smarthome_8c.html#a5684a2bbe23145855d2a166fa8379ece" title="Init Wifi. ">taskWifiInit</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Please activate only if necessary by any configuration. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK on success, ESP_FAIL otherwise </dd></dl>
<p>MQTT broker host name/ip </p>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00178">178</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00366">taskMQTTPublish()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_ae7ad6f5bfc7cbfc9f6a223fcf697c8f6_cgraph.png" border="0" usemap="#task__smarthome_8c_ae7ad6f5bfc7cbfc9f6a223fcf697c8f6_cgraph" alt=""/></div>
<map name="task__smarthome_8c_ae7ad6f5bfc7cbfc9f6a223fcf697c8f6_cgraph" id="task__smarthome_8c_ae7ad6f5bfc7cbfc9f6a223fcf697c8f6_cgraph">
<area shape="rect" id="node2" href="task__smarthome_8c.html#a8da1bd05d2cb75035c66535221908a63" title="Check for eventgroup before accessing it. Will be initialized if not available. " alt="" coords="367,5,488,32"/>
<area shape="rect" id="node3" href="task__smarthome_8c.html#a5684a2bbe23145855d2a166fa8379ece" title="Init Wifi. " alt="" coords="180,56,268,83"/>
<area shape="rect" id="node4" href="hal__storage_8c.html#a63ec8e05a2bb4c214600e94b8ab05eea" title="Load a string from NVS (global, no slot assignment) " alt="" coords="340,107,515,133"/>
<area shape="rect" id="node7" href="task__smarthome_8c.html#a5af8e8260f5604ece0ee37eb577e0e26" title="Default event_handler for mqtt. " alt="" coords="156,157,292,184"/>
<area shape="rect" id="node5" href="task__smarthome_8c.html#a070dec70b0e96f3a031a3fa803b517cd" title="Default event handler for Wifi. " alt="" coords="352,56,503,83"/>
<area shape="rect" id="node6" href="task__smarthome_8c.html#a5a85685932ce7bf4b7239ab1b133cbdd" title="Import from internal wifi code for decoding error messages. " alt="" coords="563,56,676,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_ae7ad6f5bfc7cbfc9f6a223fcf697c8f6_icgraph.png" border="0" usemap="#task__smarthome_8c_ae7ad6f5bfc7cbfc9f6a223fcf697c8f6_icgraph" alt=""/></div>
<map name="task__smarthome_8c_ae7ad6f5bfc7cbfc9f6a223fcf697c8f6_icgraph" id="task__smarthome_8c_ae7ad6f5bfc7cbfc9f6a223fcf697c8f6_icgraph">
<area shape="rect" id="node2" href="task__smarthome_8h.html#a6afc039be68c1a831778fe33bd2412a9" title="Publish data via MQTT. " alt="" coords="156,31,283,57"/>
<area shape="rect" id="node3" href="handler__vb_8c.html#a60c71b4a6cc8a9a3e9e8a3c8e36cffa0" title="VB event handler, triggering VB general actions. " alt="" coords="331,5,416,32"/>
<area shape="rect" id="node6" href="task__commands_8c.html#a6687f2598d6dc738c90d3be28cf90184" title="cmdMq" alt="" coords="341,56,406,83"/>
<area shape="rect" id="node4" href="handler__vb_8h.html#ac54a8826a70d3aaf5c284bab02b93444" title="Init for the VB handler. " alt="" coords="464,5,573,32"/>
<area shape="rect" id="node5" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="621,5,700,32"/>
</map>
</div>

</div>
</div>
<a id="a6afc039be68c1a831778fe33bd2412a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6afc039be68c1a831778fe33bd2412a9">&#9670;&nbsp;</a></span>taskMQTTPublish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t taskMQTTPublish </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>topic_payload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish data via MQTT. </p>
<p>This function publishes the given data. The parameter topic_payload will be split into the topic name and the corresponding payload to publish. The splitting is done by the currently set MQTT delimiter character, which can be modified with "AT MS". MQTT_DELIMITER will be used if no other character is set.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="task__smarthome_8h.html#a028c7f08d77e361f5624a8259b88788a" title="Default mqtt delimter character. ">MQTT_DELIMITER</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK on success, ESP_FAIL otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00366">366</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00944">cmdMq()</a>, and <a class="el" href="handler__vb_8c_source.html#l00071">handler_vb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_a6afc039be68c1a831778fe33bd2412a9_cgraph.png" border="0" usemap="#task__smarthome_8c_a6afc039be68c1a831778fe33bd2412a9_cgraph" alt=""/></div>
<map name="task__smarthome_8c_a6afc039be68c1a831778fe33bd2412a9_cgraph" id="task__smarthome_8c_a6afc039be68c1a831778fe33bd2412a9_cgraph">
<area shape="rect" id="node2" href="task__smarthome_8c.html#ae7ad6f5bfc7cbfc9f6a223fcf697c8f6" title="Init the MQTT client and wifi (if necessary) " alt="" coords="180,107,283,133"/>
<area shape="rect" id="node5" href="hal__storage_8c.html#a63ec8e05a2bb4c214600e94b8ab05eea" title="Load a string from NVS (global, no slot assignment) " alt="" coords="515,107,689,133"/>
<area shape="rect" id="node3" href="task__smarthome_8c.html#a8da1bd05d2cb75035c66535221908a63" title="Check for eventgroup before accessing it. Will be initialized if not available. " alt="" coords="541,5,663,32"/>
<area shape="rect" id="node4" href="task__smarthome_8c.html#a5684a2bbe23145855d2a166fa8379ece" title="Init Wifi. " alt="" coords="355,56,443,83"/>
<area shape="rect" id="node8" href="task__smarthome_8c.html#a5af8e8260f5604ece0ee37eb577e0e26" title="Default event_handler for mqtt. " alt="" coords="331,157,467,184"/>
<area shape="rect" id="node6" href="task__smarthome_8c.html#a070dec70b0e96f3a031a3fa803b517cd" title="Default event handler for Wifi. " alt="" coords="527,56,677,83"/>
<area shape="rect" id="node7" href="task__smarthome_8c.html#a5a85685932ce7bf4b7239ab1b133cbdd" title="Import from internal wifi code for decoding error messages. " alt="" coords="737,56,851,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_a6afc039be68c1a831778fe33bd2412a9_icgraph.png" border="0" usemap="#task__smarthome_8c_a6afc039be68c1a831778fe33bd2412a9_icgraph" alt=""/></div>
<map name="task__smarthome_8c_a6afc039be68c1a831778fe33bd2412a9_icgraph" id="task__smarthome_8c_a6afc039be68c1a831778fe33bd2412a9_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a6687f2598d6dc738c90d3be28cf90184" title="cmdMq" alt="" coords="190,5,255,32"/>
<area shape="rect" id="node3" href="handler__vb_8c.html#a60c71b4a6cc8a9a3e9e8a3c8e36cffa0" title="VB event handler, triggering VB general actions. " alt="" coords="180,56,265,83"/>
<area shape="rect" id="node4" href="handler__vb_8h.html#ac54a8826a70d3aaf5c284bab02b93444" title="Init for the VB handler. " alt="" coords="313,56,423,83"/>
<area shape="rect" id="node5" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="471,56,549,83"/>
</map>
</div>

</div>
</div>
<a id="abd03f69dfd15d91c58fce02e1c476626"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd03f69dfd15d91c58fce02e1c476626">&#9670;&nbsp;</a></span>taskREST()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t taskREST </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trigger a REST call via http/s GET. </p>
<p>Publish data via MQTT.</p>
<p>This function calls the given URL via http/s GET. If Wifi is not initialized, it will be started. On the first call, there might be a delay until wifi is connected.</p>
<dl class="section note"><dt>Note</dt><dd>Wifi is activated here, if this was not done before. There might be a timeout or missed REST call if wifi is not active. Nevertheless, we will wait 5s for the Wifi to be active. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK on success, ESP_FAIL otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00424">424</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__commands_8c_source.html#l00956">cmdRe()</a>, and <a class="el" href="handler__vb_8c_source.html#l00071">handler_vb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_abd03f69dfd15d91c58fce02e1c476626_cgraph.png" border="0" usemap="#task__smarthome_8c_abd03f69dfd15d91c58fce02e1c476626_cgraph" alt=""/></div>
<map name="task__smarthome_8c_abd03f69dfd15d91c58fce02e1c476626_cgraph" id="task__smarthome_8c_abd03f69dfd15d91c58fce02e1c476626_cgraph">
<area shape="rect" id="node2" href="task__smarthome_8c.html#a5684a2bbe23145855d2a166fa8379ece" title="Init Wifi. " alt="" coords="136,56,224,83"/>
<area shape="rect" id="node3" href="task__smarthome_8c.html#a8da1bd05d2cb75035c66535221908a63" title="Check for eventgroup before accessing it. Will be initialized if not available. " alt="" coords="299,5,420,32"/>
<area shape="rect" id="node4" href="hal__storage_8c.html#a63ec8e05a2bb4c214600e94b8ab05eea" title="Load a string from NVS (global, no slot assignment) " alt="" coords="272,56,447,83"/>
<area shape="rect" id="node5" href="task__smarthome_8c.html#a070dec70b0e96f3a031a3fa803b517cd" title="Default event handler for Wifi. " alt="" coords="284,107,435,133"/>
<area shape="rect" id="node6" href="task__smarthome_8c.html#a5a85685932ce7bf4b7239ab1b133cbdd" title="Import from internal wifi code for decoding error messages. " alt="" coords="495,107,608,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_abd03f69dfd15d91c58fce02e1c476626_icgraph.png" border="0" usemap="#task__smarthome_8c_abd03f69dfd15d91c58fce02e1c476626_icgraph" alt=""/></div>
<map name="task__smarthome_8c_abd03f69dfd15d91c58fce02e1c476626_icgraph" id="task__smarthome_8c_abd03f69dfd15d91c58fce02e1c476626_icgraph">
<area shape="rect" id="node2" href="task__commands_8c.html#a29b76b745eba87f47ca191b0bf47282e" title="cmdRe" alt="" coords="147,5,211,32"/>
<area shape="rect" id="node3" href="handler__vb_8c.html#a60c71b4a6cc8a9a3e9e8a3c8e36cffa0" title="VB event handler, triggering VB general actions. " alt="" coords="136,56,221,83"/>
<area shape="rect" id="node4" href="handler__vb_8h.html#ac54a8826a70d3aaf5c284bab02b93444" title="Init for the VB handler. " alt="" coords="269,56,379,83"/>
<area shape="rect" id="node5" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="427,56,505,83"/>
</map>
</div>

</div>
</div>
<a id="a7f500c758e55aef71ea45019352a280f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f500c758e55aef71ea45019352a280f">&#9670;&nbsp;</a></span>taskWifiDeInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t taskWifiDeInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinit wifi. </p>
<p>This function deactives WiFi in station mode.</p>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK on success, ESP_FAIL otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00334">334</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_a7f500c758e55aef71ea45019352a280f_cgraph.png" border="0" usemap="#task__smarthome_8c_a7f500c758e55aef71ea45019352a280f_cgraph" alt=""/></div>
<map name="task__smarthome_8c_a7f500c758e55aef71ea45019352a280f_cgraph" id="task__smarthome_8c_a7f500c758e55aef71ea45019352a280f_cgraph">
<area shape="rect" id="node2" href="task__smarthome_8c.html#a8da1bd05d2cb75035c66535221908a63" title="Check for eventgroup before accessing it. Will be initialized if not available. " alt="" coords="325,5,447,32"/>
<area shape="rect" id="node3" href="task__smarthome_8c.html#ae09eb75c3fed43ee85fd92c1f710b600" title="Deinit MQTT. " alt="" coords="159,31,277,57"/>
</map>
</div>

</div>
</div>
<a id="a5684a2bbe23145855d2a166fa8379ece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5684a2bbe23145855d2a166fa8379ece">&#9670;&nbsp;</a></span>taskWifiInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t taskWifiInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init Wifi. </p>
<p>This init function initializes the wifi in station mode.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="common_8h.html#a491fd65b6e1cef337b9a99ac4f6002bb" title="NVS key for wifi name (when connected as client!) ">NVS_STATIONNAME</a> </dd>
<dd>
<a class="el" href="common_8h.html#ad33120b91260e67b77c9e3888c47d990" title="NVS key for wifi password (when connected as client!) ">NVS_STATIONPW</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Please activate only if necessary by any configuration. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK on success, ESP_FAIL otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00227">227</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00178">taskMQTTInit()</a>, and <a class="el" href="task__smarthome_8c_source.html#l00424">taskREST()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_a5684a2bbe23145855d2a166fa8379ece_cgraph.png" border="0" usemap="#task__smarthome_8c_a5684a2bbe23145855d2a166fa8379ece_cgraph" alt=""/></div>
<map name="task__smarthome_8c_a5684a2bbe23145855d2a166fa8379ece_cgraph" id="task__smarthome_8c_a5684a2bbe23145855d2a166fa8379ece_cgraph">
<area shape="rect" id="node2" href="task__smarthome_8c.html#a8da1bd05d2cb75035c66535221908a63" title="Check for eventgroup before accessing it. Will be initialized if not available. " alt="" coords="168,5,289,32"/>
<area shape="rect" id="node3" href="hal__storage_8c.html#a63ec8e05a2bb4c214600e94b8ab05eea" title="Load a string from NVS (global, no slot assignment) " alt="" coords="141,56,316,83"/>
<area shape="rect" id="node4" href="task__smarthome_8c.html#a070dec70b0e96f3a031a3fa803b517cd" title="Default event handler for Wifi. " alt="" coords="153,107,304,133"/>
<area shape="rect" id="node5" href="task__smarthome_8c.html#a5a85685932ce7bf4b7239ab1b133cbdd" title="Import from internal wifi code for decoding error messages. " alt="" coords="364,107,477,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_a5684a2bbe23145855d2a166fa8379ece_icgraph.png" border="0" usemap="#task__smarthome_8c_a5684a2bbe23145855d2a166fa8379ece_icgraph" alt=""/></div>
<map name="task__smarthome_8c_a5684a2bbe23145855d2a166fa8379ece_icgraph" id="task__smarthome_8c_a5684a2bbe23145855d2a166fa8379ece_icgraph">
<area shape="rect" id="node2" href="task__smarthome_8c.html#ae7ad6f5bfc7cbfc9f6a223fcf697c8f6" title="Init the MQTT client and wifi (if necessary) " alt="" coords="141,5,244,32"/>
<area shape="rect" id="node8" href="task__smarthome_8h.html#ada3e20e5219fc786b19060f089dd8b24" title="Publish data via MQTT. " alt="" coords="151,56,234,83"/>
<area shape="rect" id="node3" href="task__smarthome_8h.html#a6afc039be68c1a831778fe33bd2412a9" title="Publish data via MQTT. " alt="" coords="292,5,419,32"/>
<area shape="rect" id="node4" href="handler__vb_8c.html#a60c71b4a6cc8a9a3e9e8a3c8e36cffa0" title="VB event handler, triggering VB general actions. " alt="" coords="467,56,552,83"/>
<area shape="rect" id="node7" href="task__commands_8c.html#a6687f2598d6dc738c90d3be28cf90184" title="cmdMq" alt="" coords="477,5,542,32"/>
<area shape="rect" id="node5" href="handler__vb_8h.html#ac54a8826a70d3aaf5c284bab02b93444" title="Init for the VB handler. " alt="" coords="600,56,709,83"/>
<area shape="rect" id="node6" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="757,56,836,83"/>
<area shape="rect" id="node9" href="task__commands_8c.html#a29b76b745eba87f47ca191b0bf47282e" title="cmdRe" alt="" coords="323,107,387,133"/>
</map>
</div>

</div>
</div>
<a id="a5a85685932ce7bf4b7239ab1b133cbdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a85685932ce7bf4b7239ab1b133cbdd">&#9670;&nbsp;</a></span>wifi_get_reason()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* wifi_get_reason </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Import from internal wifi code for decoding error messages. </p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00095">wifi_sh_event_handler()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_a5a85685932ce7bf4b7239ab1b133cbdd_icgraph.png" border="0" usemap="#task__smarthome_8c_a5a85685932ce7bf4b7239ab1b133cbdd_icgraph" alt=""/></div>
<map name="task__smarthome_8c_a5a85685932ce7bf4b7239ab1b133cbdd_icgraph" id="task__smarthome_8c_a5a85685932ce7bf4b7239ab1b133cbdd_icgraph">
<area shape="rect" id="node2" href="task__smarthome_8c.html#a070dec70b0e96f3a031a3fa803b517cd" title="Default event handler for Wifi. " alt="" coords="167,31,317,57"/>
<area shape="rect" id="node3" href="task__smarthome_8h.html#a5684a2bbe23145855d2a166fa8379ece" title="Init Wifi. " alt="" coords="365,31,453,57"/>
<area shape="rect" id="node4" href="task__smarthome_8c.html#ae7ad6f5bfc7cbfc9f6a223fcf697c8f6" title="Init the MQTT client and wifi (if necessary) " alt="" coords="501,5,604,32"/>
<area shape="rect" id="node10" href="task__smarthome_8h.html#ada3e20e5219fc786b19060f089dd8b24" title="Publish data via MQTT. " alt="" coords="511,56,594,83"/>
<area shape="rect" id="node5" href="task__smarthome_8h.html#a6afc039be68c1a831778fe33bd2412a9" title="Publish data via MQTT. " alt="" coords="652,5,779,32"/>
<area shape="rect" id="node6" href="handler__vb_8c.html#a60c71b4a6cc8a9a3e9e8a3c8e36cffa0" title="VB event handler, triggering VB general actions. " alt="" coords="827,56,912,83"/>
<area shape="rect" id="node9" href="task__commands_8c.html#a6687f2598d6dc738c90d3be28cf90184" title="cmdMq" alt="" coords="837,5,902,32"/>
<area shape="rect" id="node7" href="handler__vb_8h.html#ac54a8826a70d3aaf5c284bab02b93444" title="Init for the VB handler. " alt="" coords="960,56,1069,83"/>
<area shape="rect" id="node8" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="1117,56,1196,83"/>
<area shape="rect" id="node11" href="task__commands_8c.html#a29b76b745eba87f47ca191b0bf47282e" title="cmdRe" alt="" coords="683,107,747,133"/>
</map>
</div>

</div>
</div>
<a id="a070dec70b0e96f3a031a3fa803b517cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a070dec70b0e96f3a031a3fa803b517cd">&#9670;&nbsp;</a></span>wifi_sh_event_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static esp_err_t wifi_sh_event_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">system_event_t *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default event handler for Wifi. </p>
<p>This is basically the protocols/mqtt/tcp example's handler code. </p>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00095">95</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00227">taskWifiInit()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_a070dec70b0e96f3a031a3fa803b517cd_cgraph.png" border="0" usemap="#task__smarthome_8c_a070dec70b0e96f3a031a3fa803b517cd_cgraph" alt=""/></div>
<map name="task__smarthome_8c_a070dec70b0e96f3a031a3fa803b517cd_cgraph" id="task__smarthome_8c_a070dec70b0e96f3a031a3fa803b517cd_cgraph">
<area shape="rect" id="node2" href="task__smarthome_8c.html#a5a85685932ce7bf4b7239ab1b133cbdd" title="Import from internal wifi code for decoding error messages. " alt="" coords="204,5,317,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="task__smarthome_8c_a070dec70b0e96f3a031a3fa803b517cd_icgraph.png" border="0" usemap="#task__smarthome_8c_a070dec70b0e96f3a031a3fa803b517cd_icgraph" alt=""/></div>
<map name="task__smarthome_8c_a070dec70b0e96f3a031a3fa803b517cd_icgraph" id="task__smarthome_8c_a070dec70b0e96f3a031a3fa803b517cd_icgraph">
<area shape="rect" id="node2" href="task__smarthome_8h.html#a5684a2bbe23145855d2a166fa8379ece" title="Init Wifi. " alt="" coords="204,31,292,57"/>
<area shape="rect" id="node3" href="task__smarthome_8c.html#ae7ad6f5bfc7cbfc9f6a223fcf697c8f6" title="Init the MQTT client and wifi (if necessary) " alt="" coords="340,5,443,32"/>
<area shape="rect" id="node9" href="task__smarthome_8h.html#ada3e20e5219fc786b19060f089dd8b24" title="Publish data via MQTT. " alt="" coords="350,56,433,83"/>
<area shape="rect" id="node4" href="task__smarthome_8h.html#a6afc039be68c1a831778fe33bd2412a9" title="Publish data via MQTT. " alt="" coords="491,5,617,32"/>
<area shape="rect" id="node5" href="handler__vb_8c.html#a60c71b4a6cc8a9a3e9e8a3c8e36cffa0" title="VB event handler, triggering VB general actions. " alt="" coords="665,56,751,83"/>
<area shape="rect" id="node8" href="task__commands_8c.html#a6687f2598d6dc738c90d3be28cf90184" title="cmdMq" alt="" coords="675,5,741,32"/>
<area shape="rect" id="node6" href="handler__vb_8h.html#ac54a8826a70d3aaf5c284bab02b93444" title="Init for the VB handler. " alt="" coords="799,56,908,83"/>
<area shape="rect" id="node7" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="956,56,1035,83"/>
<area shape="rect" id="node10" href="task__commands_8c.html#a29b76b745eba87f47ca191b0bf47282e" title="cmdRe" alt="" coords="522,107,586,133"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad9332f302ae79b5195a71d791a9ccecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9332f302ae79b5195a71d791a9ccecd">&#9670;&nbsp;</a></span>mqtt_client</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_mqtt_client_handle_t mqtt_client</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT client handle, used for publishing. </p>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00059">59</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00128">mqtt_event_handler()</a>, <a class="el" href="task__smarthome_8c_source.html#l00313">taskMQTTDeInit()</a>, <a class="el" href="task__smarthome_8c_source.html#l00178">taskMQTTInit()</a>, and <a class="el" href="task__smarthome_8c_source.html#l00366">taskMQTTPublish()</a>.</p>

</div>
</div>
<a id="ae574ef13e6c84129431de8584f0d9a8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae574ef13e6c84129431de8584f0d9a8c">&#9670;&nbsp;</a></span>smarthomestatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EventGroupHandle_t smarthomestatus</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags for signalling wifi/mqtt/... status. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="task__smarthome_8c.html#a3ca10298e1918e68446e51ed34e4221b">SH_MQTT_ACTIVE</a> </dd>
<dd>
<a class="el" href="task__smarthome_8c.html#ad858ba29f3bea06d0cbe52ff5a77ab98">SH_WIFI_ACTIVE</a> </dd>
<dd>
<a class="el" href="task__smarthome_8c.html#a92f6c32b5419f9e5dea8c7eae95d64de">SH_MQTT_INITIALIZED</a> </dd>
<dd>
<a class="el" href="task__smarthome_8c.html#ae76afc5dc7807cffe6691233a7033fcc">SH_WIFI_INITIALIZED</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00071">71</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00084">checkeventgroup()</a>, <a class="el" href="task__smarthome_8c_source.html#l00128">mqtt_event_handler()</a>, <a class="el" href="task__smarthome_8c_source.html#l00313">taskMQTTDeInit()</a>, <a class="el" href="task__smarthome_8c_source.html#l00178">taskMQTTInit()</a>, <a class="el" href="task__smarthome_8c_source.html#l00424">taskREST()</a>, <a class="el" href="task__smarthome_8c_source.html#l00334">taskWifiDeInit()</a>, <a class="el" href="task__smarthome_8c_source.html#l00227">taskWifiInit()</a>, and <a class="el" href="task__smarthome_8c_source.html#l00095">wifi_sh_event_handler()</a>.</p>

</div>
</div>
<a id="a11201774aaac749961f9bb6dabeac94f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11201774aaac749961f9bb6dabeac94f">&#9670;&nbsp;</a></span>wifi_config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wifi_config_t wifi_config</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wifi config. </p>
<dl class="section note"><dt>Note</dt><dd>if this is NOT global -&gt; wifi is not working </dd></dl>

<p class="definition">Definition at line <a class="el" href="task__smarthome_8c_source.html#l00063">63</a> of file <a class="el" href="task__smarthome_8c_source.html">task_smarthome.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__smarthome_8c_source.html#l00227">taskWifiInit()</a>, and <a class="el" href="task__webgui_8c_source.html#l00627">wifiEnDisable()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
