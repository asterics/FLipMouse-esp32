!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.tabby=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(n){"use strict";function c(t,e,o){if("[object Object]"===Object.prototype.toString.call(t))for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(o,t[n],n,t);else for(var a=0,c=t.length;a<c;a++)e.call(o,t[a],a,t)}function r(t,e){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),o=e.length;0<=--o&&e.item(o)!==this;);return-1<o});t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null}function s(t){"#"===t.charAt(0)&&(t=t.substr(1));for(var e,o=String(t),n=o.length,a=-1,c="",r=o.charCodeAt(0);++a<n;){if(0===(e=o.charCodeAt(a)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");c+=1<=e&&e<=31||127==e||0===a&&48<=e&&e<=57||1===a&&48<=e&&e<=57&&45===r?"\\"+e.toString(16)+" ":128<=e||45===e||95===e||48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122?o.charAt(a):"\\"+o.charAt(a)}return"#"+c}function i(t,e){if(!t.hasAttribute("data-tab-no-focus")){if(!t.classList.contains(e.contentActiveClass))return void(t.hasAttribute("data-tab-focused")&&t.removeAttribute("tabindex"));var o={x:n.pageXOffset,y:n.pageYOffset};t.children[0].focus(),document.activeElement.id!==t.id&&(t.setAttribute("tabindex","-1"),t.setAttribute("data-tab-focused",!0),t.children[0].focus()),n.scrollTo(o.x,o.y)}}var l,a,u={},e="querySelector"in document&&"addEventListener"in n&&"classList"in document.createElement("_")&&"onhashchange"in n,d={selectorToggle:"[data-tab]",selectorToggleGroup:"[data-tabs]",selectorContent:"[data-tabs-pane]",selectorContentGroup:"[data-tabs-content]",toggleActiveClass:"active",contentActiveClass:"active",initClass:"js-tabby",stopVideo:!0,callback:function(){}},f=function(){var o={},n=!1,t=0,e=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],t++);for(var a=function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n&&"[object Object]"===Object.prototype.toString.call(t[e])?o[e]=f(!0,o[e],t[e]):o[e]=t[e])};t<e;t++){a(arguments[t])}return o};u.toggleTab=function(t,e,o){var n=f(l||d,o||{}),a=document.querySelectorAll(s(t));(function(e,o){var t=document.querySelector(s(e));if(t){var n=r(t,o.selectorContentGroup);if(n){var a=n.querySelectorAll(o.selectorContent);c(a,function(t){return t.id===e.substring(1)?t.classList.add(o.contentActiveClass):(t.classList.remove(o.contentActiveClass),function(t,e){if(e.stopVideo&&!t.classList.contains(e.contentActiveClass)){var o=t.querySelector("iframe"),n=t.querySelector("video");if(o){var a=o.src;o.src=a}n&&n.pause()}}(t,o)),void i(t,o)})}}})(t,n),e&&function(e,o){var t=r(e,o.selectorToggleGroup);if(t){var n,a=t.querySelectorAll(o.selectorToggle);c(a,function(t){return t.hash===e.hash?(t.classList.add(o.toggleActiveClass),void((n=r(t,"li"))&&n.classList.add(o.toggleActiveClass))):(t.classList.remove(o.toggleActiveClass),void((n=r(t,"li"))&&n.classList.remove(o.toggleActiveClass)))})}}(e,n),n.callback(a,e)};function o(t){var e=n.location.hash;if(a&&(a.id=a.getAttribute("data-tab-id"),a=null),e){var o=document.querySelector(l.selectorToggle+'[href*="'+e+'"]');u.toggleTab(e,o)}}function v(t){if(0===t.button&&!t.metaKey&&!t.ctrlKey){var e=r(t.target,l.selectorToggle);if(e&&e.hash){if(e.hash===n.location.hash)return void t.preventDefault();(a=document.querySelector(e.hash))&&(a.setAttribute("data-tab-id",a.id),a.id="")}}}function h(t){if((a=r(t.target,l.selectorContent))&&!a.classList.contains(l.contentActiveClass)){var e=a.id;a.setAttribute("data-tab-id",e),a.setAttribute("data-tab-no-focus",!0),a.id="",location.hash=e}}return u.destroy=function(){l&&(document.documentElement.classList.remove(l.initClass),document.removeEventListener("click",v,!1),document.removeEventListener("focus",h,!0),n.removeEventListener("hashchange",o,!1),a=l=null)},u.init=function(t){e&&(u.destroy(),l=f(d,t||{}),document.documentElement.classList.add(l.initClass),document.addEventListener("click",v,!1),document.addEventListener("focus",h,!0),n.addEventListener("hashchange",o,!1),o())},u});