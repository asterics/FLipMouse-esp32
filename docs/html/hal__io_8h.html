<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLipMouse/FABI ESP32 firmware: /home/beni/sync/Projects/FH/FLipMouse-esp32/main/hal/hal_io.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLipMouse/FABI ESP32 firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li><li class="navelem"><a class="el" href="dir_2c1795b0295572423fca70fe6201093a.html">hal</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">hal_io.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>HAL TASK - This file contains the hardware abstraction for all IO related stuff (except ADC).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;freertos/FreeRTOS.h&gt;</code><br />
<code>#include &lt;freertos/event_groups.h&gt;</code><br />
<code>#include &lt;freertos/portmacro.h&gt;</code><br />
<code>#include &quot;freertos/task.h&quot;</code><br />
<code>#include &quot;freertos/queue.h&quot;</code><br />
<code>#include &lt;esp_log.h&gt;</code><br />
<code>#include &quot;esp_err.h&quot;</code><br />
<code>#include &quot;driver/ledc.h&quot;</code><br />
<code>#include &quot;driver/gpio.h&quot;</code><br />
<code>#include &quot;driver/rmt.h&quot;</code><br />
<code>#include &quot;led_strip/led_strip.h&quot;</code><br />
<code>#include &quot;<a class="el" href="common_8h_source.html">common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="config__switcher_8h_source.html">../config_switcher.h</a>&quot;</code><br />
</div>
<p><a href="hal__io_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhalIOBuzzer.html">halIOBuzzer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output buzzer noise.  <a href="structhalIOBuzzer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:abb482f8bb919f023ca580b4971821011"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#abb482f8bb919f023ca580b4971821011">TONE</a>(freq,  length)</td></tr>
<tr class="memdesc:abb482f8bb919f023ca580b4971821011"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to easily create a tone.  <a href="#abb482f8bb919f023ca580b4971821011">More...</a><br /></td></tr>
<tr class="separator:abb482f8bb919f023ca580b4971821011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57492bb37c5bc8edb8f7165f1c00082e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a57492bb37c5bc8edb8f7165f1c00082e">SENDIR</a>(buf,  len)</td></tr>
<tr class="memdesc:a57492bb37c5bc8edb8f7165f1c00082e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to easily send an IR buffer.  <a href="#a57492bb37c5bc8edb8f7165f1c00082e">More...</a><br /></td></tr>
<tr class="separator:a57492bb37c5bc8edb8f7165f1c00082e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac51510bf1295d5e23fb68d84d67dadcd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#ac51510bf1295d5e23fb68d84d67dadcd">SENDIRSTRUCT</a>(cfg)&#160;&#160;&#160;<a class="el" href="hal__io_8h.html#a57492bb37c5bc8edb8f7165f1c00082e">SENDIR</a>(cfg-&gt;buffer, cfg-&gt;count)</td></tr>
<tr class="memdesc:ac51510bf1295d5e23fb68d84d67dadcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to easily send an halIOIR_t struct to IR hal driver.  <a href="#ac51510bf1295d5e23fb68d84d67dadcd">More...</a><br /></td></tr>
<tr class="separator:ac51510bf1295d5e23fb68d84d67dadcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480a15dad4ba5947f98a09220a6c2827"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a480a15dad4ba5947f98a09220a6c2827">LED</a>(r,  g,  b,  m)</td></tr>
<tr class="memdesc:a480a15dad4ba5947f98a09220a6c2827"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to easily update the LEDs (RGB or Neopixel, depending on configuration)  <a href="#a480a15dad4ba5947f98a09220a6c2827">More...</a><br /></td></tr>
<tr class="separator:a480a15dad4ba5947f98a09220a6c2827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8db74aa62b01eaaa7e9b0080050d488f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a8db74aa62b01eaaa7e9b0080050d488f">HAL_IO_PIN_LONGACTION</a>&#160;&#160;&#160;HAL_IO_PIN_BUTTON_INT1</td></tr>
<tr class="memdesc:a8db74aa62b01eaaa7e9b0080050d488f"><td class="mdescLeft">&#160;</td><td class="mdescRight">PIN - which one is used for Wifi/BLE (long action handler)?  <a href="#a8db74aa62b01eaaa7e9b0080050d488f">More...</a><br /></td></tr>
<tr class="separator:a8db74aa62b01eaaa7e9b0080050d488f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7501b46689ced3389164f900567a5025"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a7501b46689ced3389164f900567a5025">HAL_IO_LONGACTION_TIMEOUT</a>&#160;&#160;&#160;5000</td></tr>
<tr class="memdesc:a7501b46689ced3389164f900567a5025"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout ([ms]) for triggering long press action handler.  <a href="#a7501b46689ced3389164f900567a5025">More...</a><br /></td></tr>
<tr class="separator:a7501b46689ced3389164f900567a5025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e09474b15adae0b00d1c683e91eea64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a8e09474b15adae0b00d1c683e91eea64">HAL_IO_IR_MEM_BLOCKS</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:a8e09474b15adae0b00d1c683e91eea64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the count of memory blocks utilized for IR sending.  <a href="#a8e09474b15adae0b00d1c683e91eea64">More...</a><br /></td></tr>
<tr class="separator:a8e09474b15adae0b00d1c683e91eea64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fdd9649d02ffd86570875508267ab98"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a3fdd9649d02ffd86570875508267ab98">TASK_HAL_IR_RECV_TIMEOUT</a>&#160;&#160;&#160;10000</td></tr>
<tr class="memdesc:a3fdd9649d02ffd86570875508267ab98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout for ONE IR command. If no edges are detected in this time, the record will be canceled.  <a href="#a3fdd9649d02ffd86570875508267ab98">More...</a><br /></td></tr>
<tr class="separator:a3fdd9649d02ffd86570875508267ab98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62369be96ad8e3d1c156ed8afe1f5164"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a62369be96ad8e3d1c156ed8afe1f5164">TASK_HAL_IR_RECV_EDGE_TIMEOUT</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:a62369be96ad8e3d1c156ed8afe1f5164"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout between two IR edges, determining end of command after received edges.  <a href="#a62369be96ad8e3d1c156ed8afe1f5164">More...</a><br /></td></tr>
<tr class="separator:a62369be96ad8e3d1c156ed8afe1f5164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740f0b5db7e80c5412b7fbf626313256"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a740f0b5db7e80c5412b7fbf626313256">TASK_HAL_IR_RECV_MINIMUM_EDGES</a>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:a740f0b5db7e80c5412b7fbf626313256"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many edges are necessary to declare a command valid?  <a href="#a740f0b5db7e80c5412b7fbf626313256">More...</a><br /></td></tr>
<tr class="separator:a740f0b5db7e80c5412b7fbf626313256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a259cfb8eceafdeb6b0340ebea1fe9db6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a259cfb8eceafdeb6b0340ebea1fe9db6">TASK_HAL_IR_RECV_MAXIMUM_EDGES</a>&#160;&#160;&#160;256</td></tr>
<tr class="memdesc:a259cfb8eceafdeb6b0340ebea1fe9db6"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many edges can be stored maximum?  <a href="#a259cfb8eceafdeb6b0340ebea1fe9db6">More...</a><br /></td></tr>
<tr class="separator:a259cfb8eceafdeb6b0340ebea1fe9db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af104025de9174910a63b2a995c55efcb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#af104025de9174910a63b2a995c55efcb">TASK_HAL_LED_STACKSIZE</a>&#160;&#160;&#160;2048</td></tr>
<tr class="memdesc:af104025de9174910a63b2a995c55efcb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> stacksize for LED update task.  <a href="#af104025de9174910a63b2a995c55efcb">More...</a><br /></td></tr>
<tr class="separator:af104025de9174910a63b2a995c55efcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2c47fa297e6591a48b145b8223ed8a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#aae2c47fa297e6591a48b145b8223ed8a">TASK_HAL_LED_PRIORITY</a>&#160;&#160;&#160;(tskIDLE_PRIORITY + 2)</td></tr>
<tr class="memdesc:aae2c47fa297e6591a48b145b8223ed8a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> priority for LED update task.  <a href="#aae2c47fa297e6591a48b145b8223ed8a">More...</a><br /></td></tr>
<tr class="separator:aae2c47fa297e6591a48b145b8223ed8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65e122600e76ce127a8b7529358755cd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a65e122600e76ce127a8b7529358755cd">TASK_HAL_BUZZER_STACKSIZE</a>&#160;&#160;&#160;2048</td></tr>
<tr class="memdesc:a65e122600e76ce127a8b7529358755cd"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> stacksize for buzzer update task.  <a href="#a65e122600e76ce127a8b7529358755cd">More...</a><br /></td></tr>
<tr class="separator:a65e122600e76ce127a8b7529358755cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5822ca81a5eecda08d725fea3f98ed6a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a5822ca81a5eecda08d725fea3f98ed6a">TASK_HAL_IR_SEND_STACKSIZE</a>&#160;&#160;&#160;2048</td></tr>
<tr class="memdesc:a5822ca81a5eecda08d725fea3f98ed6a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> stacksize for IR send task.  <a href="#a5822ca81a5eecda08d725fea3f98ed6a">More...</a><br /></td></tr>
<tr class="separator:a5822ca81a5eecda08d725fea3f98ed6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a788c6f08af62886ae39a5117228eb629"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a788c6f08af62886ae39a5117228eb629">TASK_HAL_IR_SEND_PRIORITY</a>&#160;&#160;&#160;(tskIDLE_PRIORITY + 2)</td></tr>
<tr class="memdesc:a788c6f08af62886ae39a5117228eb629"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> priority for IR send task.  <a href="#a788c6f08af62886ae39a5117228eb629">More...</a><br /></td></tr>
<tr class="separator:a788c6f08af62886ae39a5117228eb629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7a787439acd9e7a1a4e4f7f11166131"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#ac7a787439acd9e7a1a4e4f7f11166131">TASK_HAL_IR_RECV_STACKSIZE</a>&#160;&#160;&#160;2048</td></tr>
<tr class="memdesc:ac7a787439acd9e7a1a4e4f7f11166131"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> stacksize for IR receive task.  <a href="#ac7a787439acd9e7a1a4e4f7f11166131">More...</a><br /></td></tr>
<tr class="separator:ac7a787439acd9e7a1a4e4f7f11166131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d64c888f0bc8c76c597ec8e51217e2c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a4d64c888f0bc8c76c597ec8e51217e2c">TASK_HAL_IR_RECV_PRIORITY</a>&#160;&#160;&#160;(tskIDLE_PRIORITY + 2)</td></tr>
<tr class="memdesc:a4d64c888f0bc8c76c597ec8e51217e2c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> priority for IR receive task.  <a href="#a4d64c888f0bc8c76c597ec8e51217e2c">More...</a><br /></td></tr>
<tr class="separator:a4d64c888f0bc8c76c597ec8e51217e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfd4b7201f62b306aa9dad3d066d0b1e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#acfd4b7201f62b306aa9dad3d066d0b1e">TASK_HAL_BUZZER_PRIORITY</a>&#160;&#160;&#160;(tskIDLE_PRIORITY + 2)</td></tr>
<tr class="memdesc:acfd4b7201f62b306aa9dad3d066d0b1e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> priority for buzzer update task.  <a href="#acfd4b7201f62b306aa9dad3d066d0b1e">More...</a><br /></td></tr>
<tr class="separator:acfd4b7201f62b306aa9dad3d066d0b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfd4b7201f62b306aa9dad3d066d0b1e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#acfd4b7201f62b306aa9dad3d066d0b1e">TASK_HAL_BUZZER_PRIORITY</a>&#160;&#160;&#160;(tskIDLE_PRIORITY + 2)</td></tr>
<tr class="memdesc:acfd4b7201f62b306aa9dad3d066d0b1e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> priority for buzzer update task.  <a href="#acfd4b7201f62b306aa9dad3d066d0b1e">More...</a><br /></td></tr>
<tr class="separator:acfd4b7201f62b306aa9dad3d066d0b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a77048c20189014382fad29049e68a08a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structhalIOBuzzer.html">halIOBuzzer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a77048c20189014382fad29049e68a08a">halIOBuzzer_t</a></td></tr>
<tr class="memdesc:a77048c20189014382fad29049e68a08a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output buzzer noise.  <a href="#a77048c20189014382fad29049e68a08a">More...</a><br /></td></tr>
<tr class="separator:a77048c20189014382fad29049e68a08a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa5ee74913a09cba6dca62bfdc9f8342b"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#aa5ee74913a09cba6dca62bfdc9f8342b">halIOInit</a> (void)</td></tr>
<tr class="memdesc:aa5ee74913a09cba6dca62bfdc9f8342b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializing IO HAL.  <a href="#aa5ee74913a09cba6dca62bfdc9f8342b">More...</a><br /></td></tr>
<tr class="separator:aa5ee74913a09cba6dca62bfdc9f8342b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a645ccf6a4abeccd8639c66f11138af4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a645ccf6a4abeccd8639c66f11138af4a">halIOAddLongPressHandler</a> (void(*longpress_h)(void))</td></tr>
<tr class="memdesc:a645ccf6a4abeccd8639c66f11138af4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add long press handler for Wifi button.  <a href="#a645ccf6a4abeccd8639c66f11138af4a">More...</a><br /></td></tr>
<tr class="separator:a645ccf6a4abeccd8639c66f11138af4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac042a2c8cb99fa3ba52f8e494c1bbe13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#ac042a2c8cb99fa3ba52f8e494c1bbe13">halIOIRFree</a> (rmt_channel_t channel, void *arg)</td></tr>
<tr class="memdesc:ac042a2c8cb99fa3ba52f8e494c1bbe13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback to free the memory after finished transmission.  <a href="#ac042a2c8cb99fa3ba52f8e494c1bbe13">More...</a><br /></td></tr>
<tr class="separator:ac042a2c8cb99fa3ba52f8e494c1bbe13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9e32dec844f77f4ba6f10d4641ef8779"><td class="memItemLeft" align="right" valign="top">QueueHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a9e32dec844f77f4ba6f10d4641ef8779">halIOLEDQueue</a></td></tr>
<tr class="memdesc:a9e32dec844f77f4ba6f10d4641ef8779"><td class="mdescLeft">&#160;</td><td class="mdescRight">LED update queue.  <a href="#a9e32dec844f77f4ba6f10d4641ef8779">More...</a><br /></td></tr>
<tr class="separator:a9e32dec844f77f4ba6f10d4641ef8779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528414effa3559daeccac2474c3835ed"><td class="memItemLeft" align="right" valign="top">QueueHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a528414effa3559daeccac2474c3835ed">halIOIRRecvQueue</a></td></tr>
<tr class="memdesc:a528414effa3559daeccac2474c3835ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue to pend for any incoming infrared remote commands.  <a href="#a528414effa3559daeccac2474c3835ed">More...</a><br /></td></tr>
<tr class="separator:a528414effa3559daeccac2474c3835ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb1e15303cc7da57fd758e36180ecec9"><td class="memItemLeft" align="right" valign="top">QueueHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#acb1e15303cc7da57fd758e36180ecec9">halIOIRSendQueue</a></td></tr>
<tr class="memdesc:acb1e15303cc7da57fd758e36180ecec9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue to trigger any sending of infrared remote commands.  <a href="#acb1e15303cc7da57fd758e36180ecec9">More...</a><br /></td></tr>
<tr class="separator:acb1e15303cc7da57fd758e36180ecec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a013e2ff76763650e88cc05325b89d93c"><td class="memItemLeft" align="right" valign="top">QueueHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal__io_8h.html#a013e2ff76763650e88cc05325b89d93c">halIOBuzzerQueue</a></td></tr>
<tr class="memdesc:a013e2ff76763650e88cc05325b89d93c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue to trigger a buzzer tone.  <a href="#a013e2ff76763650e88cc05325b89d93c">More...</a><br /></td></tr>
<tr class="separator:a013e2ff76763650e88cc05325b89d93c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>HAL TASK - This file contains the hardware abstraction for all IO related stuff (except ADC). </p>
<p>Following peripherals are utilized here:<br />
</p><ul>
<li>Input buttons</li>
<li>RGB LED (or maybe a Neopixel LED)</li>
<li>IR receiver (TSOP)</li>
<li>IR LED (sender)</li>
<li>Buzzer</li>
</ul>
<p>All assigned buttons are processed via one GPIO ISR, which sets press and release flags in the VB input event group. In addition, one button can be configured for executing an extra handler after a long press (this long press is much longer compared to "long press" actions handled by task_debouncer). This handler is usually used for activating and deactivating the WiFi interface.</p>
<p>The LED output is configurable either to 3 PWM outputs for RGB LEDs or a Neopixel string with variable length (RGB LEDs use ledc facilities, Neopixels use RMT engine). To enable easy color settings, macros are provided (<a class="el" href="hal__io_8h.html#a480a15dad4ba5947f98a09220a6c2827" title="Macro to easily update the LEDs (RGB or Neopixel, depending on configuration) ">LED(r,g,b,m)</a>).</p>
<p>IR receiving / sending is done via the RMT engine and is supported by macros as well.</p>
<dl class="section note"><dt>Note</dt><dd>Compared to the tasks in the folder "function_tasks" all HAL tasks are singletons. Call init to initialize every necessary data structure.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000025">Todo:</a></b></dt><dd>Test LED driver (RGB &amp; Neopixel) </dd></dl>

<p class="definition">Definition in file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8e09474b15adae0b00d1c683e91eea64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e09474b15adae0b00d1c683e91eea64">&#9670;&nbsp;</a></span>HAL_IO_IR_MEM_BLOCKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HAL_IO_IR_MEM_BLOCKS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the count of memory blocks utilized for IR sending. </p>
<p>ESP32's RMT unit has 8 64x32bits buffers for IR waveforms. The IR code in FLipMouse/FABI uses RMT channels 0 and 4, therefor both channels (RX&amp;TX) could use up to 4 blocks for saving waveforms. If there is need for a RMT channel for different purposes (e.g. Neopixel output), reduce this value to 3 to free one buffer for channel 3 and one for channel 7.</p>
<dl class="section note"><dt>Note</dt><dd>Currently used: 0-2 &amp; 4-6 for IR; 3 for HID output; 7 for Neopixels </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00218">218</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00550">halIOInit()</a>.</p>

</div>
</div>
<a id="a7501b46689ced3389164f900567a5025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7501b46689ced3389164f900567a5025">&#9670;&nbsp;</a></span>HAL_IO_LONGACTION_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HAL_IO_LONGACTION_TIMEOUT&#160;&#160;&#160;5000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timeout ([ms]) for triggering long press action handler. </p>
<dl class="section note"><dt>Note</dt><dd>If this value is lower than any long press timeout by task_debouncer, the assigned action will be triggered BEFORE handler is called. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="hal__io_8h.html#a8db74aa62b01eaaa7e9b0080050d488f" title="PIN - which one is used for Wifi/BLE (long action handler)? ">HAL_IO_PIN_LONGACTION</a> </dd>
<dd>
<a class="el" href="hal__io_8h.html#a645ccf6a4abeccd8639c66f11138af4a" title="Add long press handler for Wifi button. ">halIOAddLongPressHandler</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00207">207</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00550">halIOInit()</a>.</p>

</div>
</div>
<a id="a8db74aa62b01eaaa7e9b0080050d488f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8db74aa62b01eaaa7e9b0080050d488f">&#9670;&nbsp;</a></span>HAL_IO_PIN_LONGACTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HAL_IO_PIN_LONGACTION&#160;&#160;&#160;HAL_IO_PIN_BUTTON_INT1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PIN - which one is used for Wifi/BLE (long action handler)? </p>
<dl class="section note"><dt>Note</dt><dd>MUST be equal to one normally used button. Mostly used: internal button 1 </dd>
<dd>
This pin will be used for starting a long press timer, where the handler is called after finished period. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="hal__io_8h.html#a645ccf6a4abeccd8639c66f11138af4a" title="Add long press handler for Wifi button. ">halIOAddLongPressHandler</a> </dd>
<dd>
<a class="el" href="hal__io_8h.html#a7501b46689ced3389164f900567a5025" title="Timeout ([ms]) for triggering long press action handler. ">HAL_IO_LONGACTION_TIMEOUT</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00199">199</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00127">gpio_isr_handler()</a>.</p>

</div>
</div>
<a id="a480a15dad4ba5947f98a09220a6c2827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a480a15dad4ba5947f98a09220a6c2827">&#9670;&nbsp;</a></span>LED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">g, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">m&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{ \</div><div class="line">  generalConfig_t *cfg = <a class="code" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f">configGetCurrent</a>(); \</div><div class="line">  if(cfg != NULL) { \</div><div class="line">      <span class="comment">/*check if feedback mode is set to LED output. If not: do nothing*/</span> \</div><div class="line">      if((cfg-&gt;feedback &amp; 0x01) != 0) { \</div><div class="line">        <span class="comment">/* set duty cycle (extend to 10bit) */</span> \</div><div class="line">        ledc_set_duty(LEDC_HIGH_SPEED_MODE,LEDC_CHANNEL_0,r * 4); \</div><div class="line">        ledc_set_duty(LEDC_HIGH_SPEED_MODE,LEDC_CHANNEL_1,g * 4); \</div><div class="line">        ledc_set_duty(LEDC_HIGH_SPEED_MODE,LEDC_CHANNEL_2,b * 4); \</div><div class="line">        ledc_update_duty(LEDC_HIGH_SPEED_MODE,LEDC_CHANNEL_0); \</div><div class="line">        ledc_update_duty(LEDC_HIGH_SPEED_MODE,LEDC_CHANNEL_1); \</div><div class="line">        ledc_update_duty(LEDC_HIGH_SPEED_MODE,LEDC_CHANNEL_2); \</div><div class="line">      } \</div><div class="line">  } \</div><div class="line">}</div><div class="ttc" id="config__switcher_8c_html_a921538bec34d128a44a748fd5a2c391f"><div class="ttname"><a href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f">configGetCurrent</a></div><div class="ttdeci">generalConfig_t * configGetCurrent(void)</div><div class="ttdoc">Get the current config struct. </div><div class="ttdef"><b>Definition:</b> <a href="config__switcher_8c_source.html#l00111">config_switcher.c:111</a></div></div>
</div><!-- fragment -->
<p>Macro to easily update the LEDs (RGB or Neopixel, depending on configuration) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>8bit value for red </td></tr>
    <tr><td class="paramname">g</td><td>8bit value for green </td></tr>
    <tr><td class="paramname">b</td><td>8bit value for blue </td></tr>
    <tr><td class="paramname">m</td><td>Fade time [10Â¹ms] or animation mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="hal__io_8h.html#a9e32dec844f77f4ba6f10d4641ef8779" title="LED update queue. ">halIOLEDQueue</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00108">108</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="flipmouse__fabi__esp32__kbdmouse__main_8c_source.html#l00091">app_main()</a>, and <a class="el" href="config__switcher_8c_source.html#l00300">configSwitcherTask()</a>.</p>

</div>
</div>
<a id="a57492bb37c5bc8edb8f7165f1c00082e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57492bb37c5bc8edb8f7165f1c00082e">&#9670;&nbsp;</a></span>SENDIR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SENDIR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{ \</div><div class="line">  <span class="comment">/* check if there is an ongoing transmission. If yes, block for 50 ticks */</span> \</div><div class="line">  rmt_wait_tx_done(0, 50); \</div><div class="line">   <span class="comment">/*rmt_register_tx_end_callback(halIOIRFree,buf);*/</span> <span class="comment">/*disabled for idf v3.0 */</span> \</div><div class="line">  <span class="comment">/* debug output */</span> \</div><div class="line">  ESP_LOGD(<a class="code" href="config__switcher_8c.html#a7ce0df38eb467e59f209470c8f5ac4e6">LOG_TAG</a>,<span class="stringliteral">&quot;Sending %d items @%d&quot;</span>,len,(uint32_t)buf); \</div><div class="line">  ESP_LOG_BUFFER_HEXDUMP(<a class="code" href="config__switcher_8c.html#a7ce0df38eb467e59f209470c8f5ac4e6">LOG_TAG</a>,buf,<span class="keyword">sizeof</span>(rmt_item32_t)*len,ESP_LOG_VERBOSE); \</div><div class="line">  <span class="comment">/* To send data according to the waveform items. */</span> \</div><div class="line">  esp_err_t ret = rmt_write_items(0, buf, len, <span class="keyword">false</span>); \</div><div class="line">  if(ret != ESP_OK) ESP_LOGE(<a class="code" href="config__switcher_8c.html#a7ce0df38eb467e59f209470c8f5ac4e6">LOG_TAG</a>,<span class="stringliteral">&quot;Error writing RMT items: %d&quot;</span>,ret); \</div><div class="line">  <span class="comment">/* added for esp-idf v3.0 */</span> \</div><div class="line">  rmt_wait_tx_done(0, 50); \</div><div class="line">  free(buf); \</div><div class="line">}</div><div class="ttc" id="config__switcher_8c_html_a7ce0df38eb467e59f209470c8f5ac4e6"><div class="ttname"><a href="config__switcher_8c.html#a7ce0df38eb467e59f209470c8f5ac4e6">LOG_TAG</a></div><div class="ttdeci">#define LOG_TAG</div><div class="ttdef"><b>Definition:</b> <a href="config__switcher_8c_source.html#l00043">config_switcher.c:43</a></div></div>
</div><!-- fragment -->
<p>Macro to easily send an IR buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>rmt_item32_t pointer to the buffer </td></tr>
    <tr><td class="paramname">len</td><td>Count of buffer items </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00082">82</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

</div>
</div>
<a id="ac51510bf1295d5e23fb68d84d67dadcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac51510bf1295d5e23fb68d84d67dadcd">&#9670;&nbsp;</a></span>SENDIRSTRUCT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SENDIRSTRUCT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cfg</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="hal__io_8h.html#a57492bb37c5bc8edb8f7165f1c00082e">SENDIR</a>(cfg-&gt;buffer, cfg-&gt;count)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro to easily send an halIOIR_t struct to IR hal driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>halIOIR_t struct pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="common_8h.html#af531911959683790ca7ae870f8462a16" title="Output buzzer noise. ">halIOIR_t</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00100">100</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="task__infrared_8c_source.html#l00051">task_infrared()</a>.</p>

</div>
</div>
<a id="acfd4b7201f62b306aa9dad3d066d0b1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfd4b7201f62b306aa9dad3d066d0b1e">&#9670;&nbsp;</a></span>TASK_HAL_BUZZER_PRIORITY <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_HAL_BUZZER_PRIORITY&#160;&#160;&#160;(tskIDLE_PRIORITY + 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> priority for buzzer update task. </p>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00287">287</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00550">halIOInit()</a>.</p>

</div>
</div>
<a id="acfd4b7201f62b306aa9dad3d066d0b1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfd4b7201f62b306aa9dad3d066d0b1e">&#9670;&nbsp;</a></span>TASK_HAL_BUZZER_PRIORITY <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_HAL_BUZZER_PRIORITY&#160;&#160;&#160;(tskIDLE_PRIORITY + 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> priority for buzzer update task. </p>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00287">287</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

</div>
</div>
<a id="a65e122600e76ce127a8b7529358755cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65e122600e76ce127a8b7529358755cd">&#9670;&nbsp;</a></span>TASK_HAL_BUZZER_STACKSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_HAL_BUZZER_STACKSIZE&#160;&#160;&#160;2048</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> stacksize for buzzer update task. </p>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00269">269</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00550">halIOInit()</a>.</p>

</div>
</div>
<a id="a62369be96ad8e3d1c156ed8afe1f5164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62369be96ad8e3d1c156ed8afe1f5164">&#9670;&nbsp;</a></span>TASK_HAL_IR_RECV_EDGE_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_HAL_IR_RECV_EDGE_TIMEOUT&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timeout between two IR edges, determining end of command after received edges. </p>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00254">254</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00210">halIOIRRecvTask()</a>.</p>

</div>
</div>
<a id="a259cfb8eceafdeb6b0340ebea1fe9db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a259cfb8eceafdeb6b0340ebea1fe9db6">&#9670;&nbsp;</a></span>TASK_HAL_IR_RECV_MAXIMUM_EDGES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_HAL_IR_RECV_MAXIMUM_EDGES&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many edges can be stored maximum? </p>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00260">260</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00210">halIOIRRecvTask()</a>, and <a class="el" href="task__infrared_8c_source.html#l00153">infrared_record()</a>.</p>

</div>
</div>
<a id="a740f0b5db7e80c5412b7fbf626313256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a740f0b5db7e80c5412b7fbf626313256">&#9670;&nbsp;</a></span>TASK_HAL_IR_RECV_MINIMUM_EDGES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_HAL_IR_RECV_MINIMUM_EDGES&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many edges are necessary to declare a command valid? </p>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00257">257</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00210">halIOIRRecvTask()</a>.</p>

</div>
</div>
<a id="a4d64c888f0bc8c76c597ec8e51217e2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d64c888f0bc8c76c597ec8e51217e2c">&#9670;&nbsp;</a></span>TASK_HAL_IR_RECV_PRIORITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_HAL_IR_RECV_PRIORITY&#160;&#160;&#160;(tskIDLE_PRIORITY + 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> priority for IR receive task. </p>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00281">281</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00550">halIOInit()</a>.</p>

</div>
</div>
<a id="ac7a787439acd9e7a1a4e4f7f11166131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7a787439acd9e7a1a4e4f7f11166131">&#9670;&nbsp;</a></span>TASK_HAL_IR_RECV_STACKSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_HAL_IR_RECV_STACKSIZE&#160;&#160;&#160;2048</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> stacksize for IR receive task. </p>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00278">278</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00550">halIOInit()</a>.</p>

</div>
</div>
<a id="a3fdd9649d02ffd86570875508267ab98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fdd9649d02ffd86570875508267ab98">&#9670;&nbsp;</a></span>TASK_HAL_IR_RECV_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_HAL_IR_RECV_TIMEOUT&#160;&#160;&#160;10000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timeout for ONE IR command. If no edges are detected in this time, the record will be canceled. </p>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00251">251</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00210">halIOIRRecvTask()</a>, and <a class="el" href="task__infrared_8c_source.html#l00153">infrared_record()</a>.</p>

</div>
</div>
<a id="a788c6f08af62886ae39a5117228eb629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a788c6f08af62886ae39a5117228eb629">&#9670;&nbsp;</a></span>TASK_HAL_IR_SEND_PRIORITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_HAL_IR_SEND_PRIORITY&#160;&#160;&#160;(tskIDLE_PRIORITY + 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> priority for IR send task. </p>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00275">275</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

</div>
</div>
<a id="a5822ca81a5eecda08d725fea3f98ed6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5822ca81a5eecda08d725fea3f98ed6a">&#9670;&nbsp;</a></span>TASK_HAL_IR_SEND_STACKSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_HAL_IR_SEND_STACKSIZE&#160;&#160;&#160;2048</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> stacksize for IR send task. </p>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00272">272</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

</div>
</div>
<a id="aae2c47fa297e6591a48b145b8223ed8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae2c47fa297e6591a48b145b8223ed8a">&#9670;&nbsp;</a></span>TASK_HAL_LED_PRIORITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_HAL_LED_PRIORITY&#160;&#160;&#160;(tskIDLE_PRIORITY + 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> priority for LED update task. </p>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00266">266</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

</div>
</div>
<a id="af104025de9174910a63b2a995c55efcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af104025de9174910a63b2a995c55efcb">&#9670;&nbsp;</a></span>TASK_HAL_LED_STACKSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TASK_HAL_LED_STACKSIZE&#160;&#160;&#160;2048</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classTask.html" title="Encapsulate a runnable task. ">Task</a> stacksize for LED update task. </p>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00263">263</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

</div>
</div>
<a id="abb482f8bb919f023ca580b4971821011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb482f8bb919f023ca580b4971821011">&#9670;&nbsp;</a></span>TONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TONE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">freq, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">length&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{ \</div><div class="line">  halIOBuzzer_t tone = {    \</div><div class="line">    .frequency = freq,      \</div><div class="line">    .duration = length };   \</div><div class="line">    if(<a class="code" href="hal__io_8h.html#a013e2ff76763650e88cc05325b89d93c">halIOBuzzerQueue</a> != NULL) { \</div><div class="line">  xQueueSend(<a class="code" href="hal__io_8h.html#a013e2ff76763650e88cc05325b89d93c">halIOBuzzerQueue</a>, (<span class="keywordtype">void</span>*)&amp;tone , (TickType_t) 0 ); }}</div><div class="ttc" id="hal__io_8h_html_a013e2ff76763650e88cc05325b89d93c"><div class="ttname"><a href="hal__io_8h.html#a013e2ff76763650e88cc05325b89d93c">halIOBuzzerQueue</a></div><div class="ttdeci">QueueHandle_t halIOBuzzerQueue</div><div class="ttdoc">Queue to trigger a buzzer tone. </div><div class="ttdef"><b>Definition:</b> <a href="hal__io_8h_source.html#l00339">hal_io.h:339</a></div></div>
</div><!-- fragment -->
<p>Macro to easily create a tone. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freq</td><td>Frequency of the tone [Hz] </td></tr>
    <tr><td class="paramname">length</td><td>Tone length [ms] </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00072">72</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="config__switcher_8c_source.html#l00300">configSwitcherTask()</a>, <a class="el" href="hal__adc_8c_source.html#l00726">halAdcCalibrate()</a>, <a class="el" href="hal__adc_8c_source.html#l00364">halAdcProcessPressure()</a>, <a class="el" href="task__infrared_8c_source.html#l00153">infrared_record()</a>, and <a class="el" href="task__infrared_8c_source.html#l00051">task_infrared()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a77048c20189014382fad29049e68a08a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77048c20189014382fad29049e68a08a">&#9670;&nbsp;</a></span>halIOBuzzer_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structhalIOBuzzer.html">halIOBuzzer</a>  <a class="el" href="hal__io_8h.html#a77048c20189014382fad29049e68a08a">halIOBuzzer_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output buzzer noise. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a645ccf6a4abeccd8639c66f11138af4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a645ccf6a4abeccd8639c66f11138af4a">&#9670;&nbsp;</a></span>halIOAddLongPressHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halIOAddLongPressHandler </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>longpress_h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add long press handler for Wifi button. </p>
<p>One button (define by HAL_IO_PIN_LONGACTION) can be used as long press button for enabling/disabling wifi (in addition to normal press/release actions). If this functionality should be used, add a handler with this method, which will be called after the button is pressed longer than HAL_IO_LONGACTION_TIMEOUT.</p>
<dl class="section note"><dt>Note</dt><dd>HAL_IO_PIN_LONGACTION cannot be used as individual button. Use a pin, which is already used for a normal action, otherwise the handler won't be used (ISR won't get triggered).</dd>
<dd>
Clear the handler by passing a void function pointer.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="hal__io_8h.html#a7501b46689ced3389164f900567a5025" title="Timeout ([ms]) for triggering long press action handler. ">HAL_IO_LONGACTION_TIMEOUT</a> </dd>
<dd>
<a class="el" href="hal__io_8h.html#a8db74aa62b01eaaa7e9b0080050d488f" title="PIN - which one is used for Wifi/BLE (long action handler)? ">HAL_IO_PIN_LONGACTION</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">longpress_h</td><td>Handler for long press action, use a null pointer to disable the handler. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hal__io_8c_source.html#l00529">529</a> of file <a class="el" href="hal__io_8c_source.html">hal_io.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="flipmouse__fabi__esp32__kbdmouse__main_8c_source.html#l00091">app_main()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="hal__io_8h_a645ccf6a4abeccd8639c66f11138af4a_icgraph.png" border="0" usemap="#hal__io_8h_a645ccf6a4abeccd8639c66f11138af4a_icgraph" alt=""/></div>
<map name="hal__io_8h_a645ccf6a4abeccd8639c66f11138af4a_icgraph" id="hal__io_8h_a645ccf6a4abeccd8639c66f11138af4a_icgraph">
<area shape="rect" id="node2" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="236,5,315,32"/>
</map>
</div>

</div>
</div>
<a id="aa5ee74913a09cba6dca62bfdc9f8342b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5ee74913a09cba6dca62bfdc9f8342b">&#9670;&nbsp;</a></span>halIOInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t halIOInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializing IO HAL. </p>
<p>This method initializes the IO HAL stuff:<br />
</p><ul>
<li>GPIO interrupt on 2 external and one internal button</li>
<li>RMT engine (recording and replaying of infrared commands)</li>
<li>LEDc driver for the RGB LED output</li>
<li>PWM for buzzer output </li>
</ul>

<p class="definition">Definition at line <a class="el" href="hal__io_8c_source.html#l00550">550</a> of file <a class="el" href="hal__io_8c_source.html">hal_io.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="flipmouse__fabi__esp32__kbdmouse__main_8c_source.html#l00091">app_main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="hal__io_8h_aa5ee74913a09cba6dca62bfdc9f8342b_cgraph.png" border="0" usemap="#hal__io_8h_aa5ee74913a09cba6dca62bfdc9f8342b_cgraph" alt=""/></div>
<map name="hal__io_8h_aa5ee74913a09cba6dca62bfdc9f8342b_cgraph" id="hal__io_8h_aa5ee74913a09cba6dca62bfdc9f8342b_cgraph">
<area shape="rect" id="node2" href="config__switcher_8c.html#a921538bec34d128a44a748fd5a2c391f" title="Get the current config struct. " alt="" coords="309,83,431,110"/>
<area shape="rect" id="node3" href="hal__io_8c.html#addfc4a2f0cb7848979817346b6f53afc" title="GPIO ISR handler for buttons (internal/external) " alt="" coords="135,33,251,59"/>
<area shape="rect" id="node4" href="hal__io_8c.html#a410f1d9b7e6031b9e626af17fba411d1" title="Timer callback for calling longpress handler. " alt="" coords="124,83,261,110"/>
<area shape="rect" id="node5" href="hal__io_8c.html#af049ec6b187a1b5b1575120758561ae8" title="HAL TASK &#45; IR receiving (recording) task. " alt="" coords="129,134,256,161"/>
<area shape="rect" id="node6" href="hal__io_8c.html#a5c30b3b4a88e8f23489485659d53c7c0" title="HAL TASK &#45; Buzzer update task. " alt="" coords="131,185,254,211"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="hal__io_8h_aa5ee74913a09cba6dca62bfdc9f8342b_icgraph.png" border="0" usemap="#hal__io_8h_aa5ee74913a09cba6dca62bfdc9f8342b_icgraph" alt=""/></div>
<map name="hal__io_8h_aa5ee74913a09cba6dca62bfdc9f8342b_icgraph" id="hal__io_8h_aa5ee74913a09cba6dca62bfdc9f8342b_icgraph">
<area shape="rect" id="node2" href="flipmouse__fabi__esp32__kbdmouse__main_8c.html#abce06be17fc37d675118a678a8100a36" title="Main task, created by esp&#45;idf. " alt="" coords="124,5,203,32"/>
</map>
</div>

</div>
</div>
<a id="ac042a2c8cb99fa3ba52f8e494c1bbe13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac042a2c8cb99fa3ba52f8e494c1bbe13">&#9670;&nbsp;</a></span>halIOIRFree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halIOIRFree </td>
          <td>(</td>
          <td class="paramtype">rmt_channel_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback to free the memory after finished transmission. </p>
<p>This method calls free() on the buffer which is transmitted now. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Channel of RMT enging </td></tr>
    <tr><td class="paramname">arg</td><td>rmt_item32_t* pointer to the buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Please do not use this function individually, it is in the header for the SENDIR macro.</dd></dl>
<p>This method calls free() on the buffer which is transmitted now. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Channel of RMT enging </td></tr>
    <tr><td class="paramname">arg</td><td>rmt_item32_t* pointer to the buffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hal__io_8c_source.html#l00191">191</a> of file <a class="el" href="hal__io_8c_source.html">hal_io.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a013e2ff76763650e88cc05325b89d93c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a013e2ff76763650e88cc05325b89d93c">&#9670;&nbsp;</a></span>halIOBuzzerQueue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QueueHandle_t halIOBuzzerQueue</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue to trigger a buzzer tone. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="hal__io_8h.html#a77048c20189014382fad29049e68a08a" title="Output buzzer noise. ">halIOBuzzer_t</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00339">339</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00322">halIOBuzzerTask()</a>, and <a class="el" href="hal__io_8c_source.html#l00550">halIOInit()</a>.</p>

</div>
</div>
<a id="a528414effa3559daeccac2474c3835ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528414effa3559daeccac2474c3835ed">&#9670;&nbsp;</a></span>halIOIRRecvQueue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QueueHandle_t halIOIRRecvQueue</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue to pend for any incoming infrared remote commands. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="common_8h.html#af531911959683790ca7ae870f8462a16" title="Output buzzer noise. ">halIOIR_t</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00333">333</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00550">halIOInit()</a>, <a class="el" href="hal__io_8c_source.html#l00210">halIOIRRecvTask()</a>, and <a class="el" href="task__infrared_8c_source.html#l00153">infrared_record()</a>.</p>

</div>
</div>
<a id="acb1e15303cc7da57fd758e36180ecec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb1e15303cc7da57fd758e36180ecec9">&#9670;&nbsp;</a></span>halIOIRSendQueue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QueueHandle_t halIOIRSendQueue</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue to trigger any sending of infrared remote commands. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="common_8h.html#af531911959683790ca7ae870f8462a16" title="Output buzzer noise. ">halIOIR_t</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__io_8h_source.html#l00336">336</a> of file <a class="el" href="hal__io_8h_source.html">hal_io.h</a>.</p>

</div>
</div>
<a id="a9e32dec844f77f4ba6f10d4641ef8779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e32dec844f77f4ba6f10d4641ef8779">&#9670;&nbsp;</a></span>halIOLEDQueue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QueueHandle_t halIOLEDQueue</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>LED update queue. </p>
<p>This queue is used to update the LED color &amp; brightness Please use one uint32_t value with following content:</p><ul>
<li>&lt;bits 0-7&gt; RED</li>
<li>&lt;bits 8-15&gt; GREEN</li>
<li>&lt;bits 16-23&gt; BLUE</li>
</ul>
<p>Depending on the LED config (either one RGB LED or Neopixels are used), bits 24-31 are used differently:</p>
<p><b>RGB LED (LED_USE_NEOPIXEL is NOT defined)</b>:</p>
<ul>
<li>&lt;bits 24-31&gt; Fading time ([10Â¹ms] -&gt; value of 200 is 2s)</li>
</ul>
<p><b>Neopixels (LED_USE_NEOPIXEL is defined)</b>:</p>
<ul>
<li>&lt;bits 24-31&gt; Animation mode:</li>
<li><b>0</b> Steady color on all Neopixels</li>
<li><b>1</b> 3 Neopixels have the given color and are circled around</li>
<li><b>2-0xFF</b> Currently undefined, further modes might be added.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Call halIOInit to initialize this queue. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="hal__io_8h.html#aa5ee74913a09cba6dca62bfdc9f8342b" title="Initializing IO HAL. ">halIOInit</a> </dd>
<dd>
LED_USE_NEOPIXEL </dd>
<dd>
<a class="el" href="common_8h.html#a0bd1824bfb24736925069b2b686f13f3" title="Use neopixels instead of RGB LEDs on FLipMouse. ">LED_NEOPIXEL_COUNT</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="hal__io_8c_source.html#l00084">84</a> of file <a class="el" href="hal__io_8c_source.html">hal_io.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="hal__io_8c_source.html#l00550">halIOInit()</a>, and <a class="el" href="hal__io_8c_source.html#l00383">halIOLEDTask()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
