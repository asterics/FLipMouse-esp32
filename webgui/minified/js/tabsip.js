window.tabSip={},window.tabSip.sipSliderChanged=function(e){var i=flip.getConfig([e.id]),t=parseInt(e.value),a=flip.getLiveData([flip.LIVE_PRESSURE]);e.id==flip.SIP_THRESHOLD&&(t<a||t<i)&&t>flip.getConfig(flip.SIP_STRONG_THRESHOLD)||e.id==flip.SIP_STRONG_THRESHOLD&&(t<a||t<i)&&t<flip.getConfig(flip.SIP_THRESHOLD)||e.id==flip.PUFF_THRESHOLD&&(a<t||i<t)&&t<flip.getConfig(flip.PUFF_STRONG_THRESHOLD)||e.id==flip.PUFF_STRONG_THRESHOLD&&(a<t||i<t)&&t>flip.getConfig(flip.PUFF_THRESHOLD)?(tabSip.SliderChangedTime=(new Date).getTime(),setSliderValue(e.id,t,!0),flip.setValue(e.id,t)):setSliderValue(e.id,i)},window.tabSip.sipPuffValueHandler=function(e){var i=e[flip.LIVE_PRESSURE_MIN],t=e[flip.LIVE_PRESSURE_MAX],a=e[flip.LIVE_PRESSURE],l=L(flip.SIP_PUFF_IDS[0]).min,S=L(flip.SIP_PUFF_IDS[0]).max,f=.1*(S-l);(!tabSip.SliderChangedTime||500<(new Date).getTime()-tabSip.SliderChangedTime)&&(l=Math.max(Math.min(i-f,flip.getConfig(flip.SIP_THRESHOLD)-f,flip.getConfig(flip.SIP_STRONG_THRESHOLD)-f),0),S=Math.min(Math.max(t+f,flip.getConfig(flip.PUFF_THRESHOLD)+f,flip.getConfig(flip.PUFF_STRONG_THRESHOLD)+f),1023));var n=L.getPercentage(a,l,S),p=L.getPercentage(i,l,S),g=L.getPercentage(t,l,S);L("#maxValue").innerHTML=t,L("#minValue").innerHTML=i,L("#currentValue").innerHTML=a,L.hasFocus("#pressureLiveA11y")&&tabSip.lastChangedA11yPressure&&!(1e3<(new Date).getTime()-tabSip.lastChangedA11yPressure)||(tabSip.lastChangedA11yPressure=(new Date).getTime(),L("#pressureLiveA11y").innerHTML=a),L("#guide-max").style="width: "+g+"%;",L("#guide-min").style="width: "+p+"%;",L("#sippuff-value-bar").style="width: "+n+"%;",L("#guide-current").style="width: "+n+"%;",[flip.SIP_THRESHOLD,flip.SIP_STRONG_THRESHOLD].forEach(function(e){var i=flip.getConfig(e),t=L.getPercentage(i,l,S);L("#"+e+"_WRAPPER").className=n<=t?"row colored-thumb":"row"}),[flip.PUFF_THRESHOLD,flip.PUFF_STRONG_THRESHOLD].forEach(function(e){var i=flip.getConfig(e),t=L.getPercentage(i,l,S);L("#"+e+"_WRAPPER").className=t<=n?"row colored-thumb":"row"}),flip.SIP_PUFF_IDS.forEach(function(e){L(e).min=l,L(e).max=S})};